<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_message_background</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
image_speed = 0
image_alpha = 0

spr_center_x = sprite_width / 2 - 80 // -80 to make collision box slightly smaller
spr_center_y = sprite_height / 2 - 80 

// GUI boundry box for tapping
top_left = x - spr_center_x // center align
top_right = x + spr_center_x
bottom_left = y - spr_center_y
bottom_right = y + spr_center_y 

sec_to_next_interation = 5

no_lives_left = obj_controller_playable.PLAYER_LIVES == 0

if no_lives_left
{
    text_main = 'No clones left!#Restart?'
    text_small = ''
}
else
{ 
    text_main = string(obj_controller_playable.PLAYER_LIVES) + ' clones remaining!' 
    text_small = 'Spawn now!###Spawning new clone in... ' + string(sec_to_next_interation)
    
    alarm[0] = 60 // count down to start next iteration
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
sec_to_next_interation -= 1

if sec_to_next_interation = 0
{ event_user(0) }

text_small = 'Spawn now!###Spawning new clone in... ' + string(sec_to_next_interation)

alarm[0] = 60
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// calculate if button was pressed

if point_in_rectangle(device_mouse_x_to_gui(0), device_mouse_y_to_gui(0), top_left, bottom_left, top_right, bottom_right)
{
    if device_mouse_check_button_pressed(0, mb_left)
    {
        event_user(0)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// if 0 lives, room_restart()

if no_lives_left
{ room_restart() }
else
{
    if !instance_exists(obj_hud_next_player) { instance_create(WIDTH-WIDTH/12, 0, obj_hud_next_player) }
    
    scr_next_iteration()
    
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if image_alpha != 1 { image_alpha += 0.02 } // fade in

draw_sprite_ext(sprite_index, image_index, x, y, image_xscale, image_yscale, image_angle, image_blend, image_alpha)

scr_text3()
draw_text_colour(x, y - 80, text_main, c_white, c_white, c_white, c_white, image_alpha)

scr_text2()
draw_text_colour(x, y + 120, text_small, c_white, c_white, c_white, c_white, image_alpha)

// draw icons
if no_lives_left
{ draw_sprite_ext(spr_button_pause_icons, 1, x, y + 60, image_xscale, image_yscale, image_angle, image_blend, image_alpha) } // restart
else
{ draw_sprite_ext(spr_button_pause_icons, 0, x, y + 48, image_xscale, image_yscale, image_angle, image_blend, image_alpha) } // resume

// debug to show boundry box:
// draw_rectangle(top_left, bottom_left, top_right, bottom_right, true)

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// override draw event

// do nothing
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
